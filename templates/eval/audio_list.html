{% extends 'base.html' %}
{% block content %}

<div class= "container my-3">
  <br><h4><center><kbd>{{ eval_item_type }}</kbd> {{ eval_item_name }} </center></h4></br>
  <div class="container my-3">
    <table class="table table-hover">
      <thead>
        <tr class="table-dark">
          <th><center>학습자 번호</center></th>
          <th><center>학습자 발화 파일</center></th>
          <th><center>평가</center></th>
        </tr>
      </thead>
      <tbody>
      {% for audio_file in student_num2 %}
      <tr>
        <td><center>{{ audio_file.student_number }}</center></td>
        <td><center><audio controls>
            <source src="{{ audio_file.audio_file.url }}" type="audio/mp3"></center></audio></td>
          <td>{% if audio_file.item_type == "문장" %}
              <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <input type="hidden" name="audio_file_id" value="{{ audio_file.id }}">
              <div>
                  <label for="rating_un"><kbd>이해도</kbd></label>
                  <input type="radio" name="rating_un" id="rating_un_0" value="0"><label for="rating_un_0">0</label>
                  <input type="radio" name="rating_un" id="rating_un_1" value="1"><label for="rating_un_1">1</label>
                  <input type="radio" name="rating_un" id="rating_un_2" value="2"><label for="rating_un_2">2</label>
                  <input type="radio" name="rating_un" id="rating_un_3" value="3"><label for="rating_un_3">3</label>
                  <input type="radio" name="rating_un" id="rating_un_4" value="4"><label for="rating_un_4">4</label>
                  <label for="rating_fu"><kbd>유창도</kbd></label>
                  <input type="radio" name="rating_fu" id="rating_fu_0" value="0"><label for="rating_fu_0">0</label>
                  <input type="radio" name="rating_fu" id="rating_fu_1" value="1"><label for="rating_fu_1">1</label>
                  <input type="radio" name="rating_fu" id="rating_fu_2" value="2"><label for="rating_fu_2">2</label>
                  <input type="radio" name="rating_fu" id="rating_fu_3" value="3"><label for="rating_fu_3">3</label>
                  <input type="radio" name="rating_fu" id="rating_fu_4" value="4"><label for="rating_fu_4">4</label>
                  <label for="rating_ac"><kbd>정확도</kbd></label>
                  <input type="radio" name="rating_ac" id="rating_ac_0" value="0"><label for="rating_ac_0">0</label>
                  <input type="radio" name="rating_ac" id="rating_ac_1" value="1"><label for="rating_ac_1">1</label>
                  <input type="radio" name="rating_ac" id="rating_ac_2" value="2"><label for="rating_ac_2">2</label>
                  <input type="radio" name="rating_ac" id="rating_ac_3" value="3"><label for="rating_ac_3">3</label>
                  <input type="radio" name="rating_ac" id="rating_ac_4" value="4"><label for="rating_ac_4">4</label>
                </div>
                <br>
                <div>
                  <label for="rating_ph"><kbd>자음/모음</kbd></label>
                  <input type="radio" name="rating_ph" id="rating_ph_0" value="0"><label for="rating_ph_0">0</label>
                  <input type="radio" name="rating_ph" id="rating_ph_1" value="1"><label for="rating_ph_1">1</label>
                  <input type="radio" name="rating_ph" id="rating_ph_2" value="2"><label for="rating_ph_2">2</label>
                  <input type="radio" name="rating_ph" id="rating_ph_3" value="3"><label for="rating_ph_3">3</label>
                  <input type="radio" name="rating_ph" id="rating_ph_4" value="4"><label for="rating_ph_4">4</label>
                  <label for="rating_accent"><kbd>억양/강세</kbd></label>
                  <input type="radio" name="rating_accent" id="rating_accent_0" value="0"><label for="rating_accent_0">0</label>
                  <input type="radio" name="rating_accent" id="rating_accent_1" value="1"><label for="rating_accent_1">1</label>
                  <input type="radio" name="rating_accent" id="rating_accent_2" value="2"><label for="rating_accent_2">2</label>
                  <input type="radio" name="rating_accent" id="rating_accent_3" value="3"><label for="rating_accent_3">3</label>
                  <input type="radio" name="rating_accent" id="rating_accent_4" value="4"><label for="rating_accent_4">4</label>
                </div>
                <div>
                  <label for="rating_rule"><kbd>발음 규칙</kbd></label>
                  <input type="radio" name="rating_rule" id="rating_rule_0" value="0"><label for="rating_rule_0">0</label>
                  <input type="radio" name="rating_rule" id="rating_rule_1" value="1"><label for="rating_rule_1">1</label>
                  <input type="radio" name="rating_rule" id="rating_rule_2" value="2"><label for="rating_rule_2">2</label>
                  <input type="radio" name="rating_rule" id="rating_rule_3" value="3"><label for="rating_rule_3">3</label>
                  <input type="radio" name="rating_rule" id="rating_rule_4" value="4"><label for="rating_rule_4">4</label>
                  <label for="rating_speed"><kbd>발화 속도</kbd></label>
                  <input type="radio" name="rating_speed" id="rating_speed_0" value="0"><label for="rating_speed_0">0</label>
                  <input type="radio" name="rating_speed" id="rating_speed_1" value="1"><label for="rating_speed_1">1</label>
                  <input type="radio" name="rating_speed" id="rating_speed_2" value="2"><label for="rating_speed_2">2</label>
                  <input type="radio" name="rating_speed" id="rating_speed_3" value="3"><label for="rating_speed_3">3</label>
                  <input type="radio" name="rating_speed" id="rating_speed_4" value="4"><label for="rating_speed_4">4</label>
                  <label for="rating_pause"><kbd>휴지/더듬음</kbd></label>
                  <input type="radio" name="rating_pause" id="rating_pause_0" value="0"><label for="rating_pause_0">0</label>
                  <input type="radio" name="rating_pause" id="rating_pause_1" value="1"><label for="rating_pause_1">1</label>
                  <input type="radio" name="rating_pause" id="rating_pause_2" value="2"><label for="rating_pause_2">2</label>
                  <input type="radio" name="rating_pause" id="rating_pause_3" value="3"><label for="rating_pause_3">3</label>
                  <input type="radio" name="rating_pause" id="rating_pause_4" value="4"><label for="rating_pause_4">4</label>
                  <input type="submit" value="평가 저장">
              </form>
              {% else %}
              <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" name="audio_file_id" value="{{ audio_file.id }}">
                <div>
                  <label for="rating_un"><kbd>이해도</kbd></label>
                  <input type="radio" name="rating_un" id="rating_un_0" value="0"><label for="rating_un_0">0</label>
                  <input type="radio" name="rating_un" id="rating_un_1" value="1"><label for="rating_un_1">1</label>
                  <input type="radio" name="rating_un" id="rating_un_2" value="2"><label for="rating_un_2">2</label>
                  <input type="radio" name="rating_un" id="rating_un_3" value="3"><label for="rating_un_3">3</label>
                  <input type="radio" name="rating_un" id="rating_un_4" value="4"><label for="rating_un_4">4</label>
                  <label for="rating_fu"><kbd>유창도</kbd></label>
                  <input type="radio" name="rating_fu" id="rating_fu_0" value="0"><label for="rating_fu_0">0</label>
                  <input type="radio" name="rating_fu" id="rating_fu_1" value="1"><label for="rating_fu_1">1</label>
                  <input type="radio" name="rating_fu" id="rating_fu_2" value="2"><label for="rating_fu_2">2</label>
                  <input type="radio" name="rating_fu" id="rating_fu_3" value="3"><label for="rating_fu_3">3</label>
                  <input type="radio" name="rating_fu" id="rating_fu_4" value="4"><label for="rating_fu_4">4</label>
                  <label for="rating_ac"><kbd>정확도</kbd></label>
                  <input type="radio" name="rating_ac" id="rating_ac_0" value="0"><label for="rating_ac_0">0</label>
                  <input type="radio" name="rating_ac" id="rating_ac_1" value="1"><label for="rating_ac_1">1</label>
                  <input type="radio" name="rating_ac" id="rating_ac_2" value="2"><label for="rating_ac_2">2</label>
                  <input type="radio" name="rating_ac" id="rating_ac_3" value="3"><label for="rating_ac_3">3</label>
                  <input type="radio" name="rating_ac" id="rating_ac_4" value="4"><label for="rating_ac_4">4</label>
                  <input type="submit" value="평가 저장">
              </form>
          </td>
          </tr>
              {% endif %}
          {% endfor %}
      </tbody>
    </table>

      <!-- 페이징처리 시작 -->
    <ul class="pagination justify-content-center">
        <!-- 이전페이지 -->
        {% if audio_list.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ audio_list.previous_page_number }}">이전</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">이전</a>
        </li>
        {% endif %}
        <!-- 페이지리스트 -->
        {% for page_number in audio_list.paginator.page_range %}
        {% if page_number >= audio_list.number|add:-5 and page_number <= audio_list.number|add:5 %}
        {% if page_number == audio_list.number %}
        <li class="page-item active" aria-current="page">
            <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
        </li>
        {% else %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
        </li>
        {% endif %}
        {% endif %}
        {% endfor %}
        <!-- 다음페이지 -->
        {% if audio_list.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ audio_list.next_page_number }}">다음</a>
        </li>
        {% else %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true" href="#">다음</a>
        </li>
        {% endif %}
    </ul>
    <!-- 페이징처리 끝 -->

  </div>
    {% endblock %}